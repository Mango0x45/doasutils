.\"
.\" Copyright (c) 2020 Kimmo Suominen <kim@netbsd.org>
.\" Copyright (c) 2022 Thomas Voss <mail@thomasvoss.com>
.\"
.\" Permission to use, copy, modify, and distribute this software for
.\" any purpose with or without fee is hereby granted, provided that
.\" the above copyright notice and this permission notice appear in all
.\" copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
.\" WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
.\" AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
.\" DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA
.\" OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
.\" TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
.\" PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd November 14, 2022
.Dt VIDOAS 8
.Os
.Sh NAME
.Nm vidoas
.Nd edit the doas configuration file
.Sh SYNOPSIS
.Nm
.Op Fl n
.Op Ar file
.Sh DESCRIPTION
The
.Nm
utility opens an editor on a temporary copy of the
.Xr doas 1
configuration file and checks it for syntax errors before installing it as the
actual configuration file.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl n
Do not edit the file, just perform prerequisite checks.
If this switch is repeated, all output will be suppressed and the check result
is only indicated by the exit status.
.El
.Sh EXIT STATUS
.Ex -std
.Sh ENVIRONMENT
.Bl -tag -width Ds
.It Ev VISUAL
The editor to use to edit the target text file.
If the VISUAL variable is not set, then EDTIOR is used as a fallback.
.It Ev EDITOR
The editor to use to edit the target text file if VISUAL is not set.
If the EDITOR variable is not set, then the command
.Xr vi 1
is used.
.El
.Sh FILES
.Bl -tag -width Ds
.It Pa @DOAS_CONF@
The default configuration file to edit, when no
.Ar file
argument is specified.
.El
.Sh SEE ALSO
.Xr doas 1 ,
.Xr vi 1 ,
.Xr doas.conf 5 ,
.Xr doasedit 8
.Sh AUTHORS
.An -nosplit
The
.Nm
utility was originally written by
.An Kimmo Suominen Aq Mt kim@netbsd.org
and the manual page was originally written by
.An Jesse Smith Aq Mt jessefrgsmith@yahoo.ca ,
but both are now maintained by
.An Thomas Voss Aq Mt mail@thomasvoss.com .
